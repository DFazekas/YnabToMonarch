<div id="pageLayout"></div>

<!-- Upload Options -->
<section class="mb-12 w-full">
  <div class="flex flex-col md:flex-row justify-center gap-4 sm:gap-6 md:gap-8 w-full">

    <!-- Automatic Upload -->
    <ui-card id="automaticUploadCard" data-color="purple" data-width="full">
      
      <!-- Error message for OAuth errors -->
      <error-message id="oauthError" data-severity="error" style="margin-bottom: 1rem;"></error-message>
      <svg slot="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
        <path d="M10 17l-4-4 4-4" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M14 7h6" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M14 17h6" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
      <p slot="eyebrow">Automatic</p>
      <h3 slot="title">Connect to YNAB</h3>
      <p slot="description">
        Automatically import your YNAB data via secure OAuth connection.
      </p>

      <span slot="actions">
        <ui-button id="continueWithYnabBtn" data-type="solid" data-size="large" data-color="purple" data-fullwidth>
          Continue with Active Profile
        </ui-button>

        <ui-divider id="automaticUploadDivider" data-color="purple-400">OR</ui-divider>

        <ui-button id="connectYnabBtn" data-type="solid" data-size="large" data-color="white" data-fullwidth>
          Connect to YNAB
        </ui-button>
      </span>

      <span slot="action-info">
        <!-- OAuth Info Modal -->
        <ui-modal id="oauthInfoModal">
          <ui-button slot="trigger" data-type="text">
            How does this work?
          </ui-button>

          <h3 slot="title">How does connecting my YNAB account work?</h3>

          <div slot="content">
            <div class="space-y-4 text-sm text-gray-600">
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">1: Securely Connect</h4>
                <p class="text-gray-600 text-sm">Using YNAB's official authentication process, securely connect your
                  account.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">2: Grant Permissions</h4>
                <p class="text-gray-600 text-sm">We'll prompt you to authorize access to your YNAB data and thoroughly
                  explain every permission and how it is used.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">3: Review & Filter</h4>
                <p class="text-gray-600 text-sm">Decide which accounts and transactions to migrate.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">4: Process</h4>
                <p class="text-gray-600 text-sm">Decide how to migrate your data.</p>
              </div>
            </div>
          </div>
        </ui-modal>
      </span>
    </ui-card>

    <!-- Manual Upload -->
    <ui-card id="manualUploadCard" data-color="blue" data-width="full">
      
      <!-- Error message for file upload errors -->
      <error-message id="fileUploadError" data-severity="error" style="margin-bottom: 1rem;"></error-message>
      
      <svg slot="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
        <path d="M4 15v3a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-3" stroke-linecap="round" stroke-linejoin="round">
        </path>
        <path d="M12 3v12" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M9 10l3-3 3 3" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>

      <p slot="eyebrow">Manual</p>
      <h3 slot="title">Upload a File</h3>
      <p slot="description">
        Manually export your data from YNAB, then upload the file here.
      </p>

      <span slot="actions">
        <ui-button id="continueWithExistingBtn" data-type="solid" data-size="large" data-color="blue" data-fullwidth>
          Continue with Existing Data
        </ui-button>

        <ui-divider id="manualUploadDivider" data-color="blue-400">OR</ui-divider>

        <ui-button id="manualUploadButton" data-type="secondary" data-size="large" data-color="white" data-fullwidth>
          Upload New Data
        </ui-button>
        <input id="manualFileInput" type="file"
          accept=".zip,.bin,application/zip,application/x-zip-compressed,application/octet-stream,application/binary"
          class="hidden" />
      </span>

      <div slot="action-info">
        <!-- Manual Import Info Modal -->
        <ui-modal id="manualImportInfoModal">
          <ui-button slot="trigger" data-type="text">
            What's the process?
          </ui-button>

          <h3 slot="title">
            Where do I find my YNAB data file?
          </h3>

          <div slot="content">
            <div class="space-y-4 text-sm text-gray-600">
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">1: Visit YNAB.com</h4>
                <p class="text-gray-600 text-sm">Visit <a href="https://www.ynab.com" target="_blank"
                    rel="noopener noreferrer">YNAB.com</a> and log into your account.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">2: Export your YNAB Data</h4>
                <p class="text-gray-600 text-sm">Click on your name in the top-left corner to reveal the menu, then
                  click
                  "Export Plan". This will download a ZIP file containing all your data.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">3: Upload the File</h4>
                <p class="text-gray-600 text-sm">On this page, click the "Choose File to Upload" button, navigate to
                  where the
                  ZIP file was downloaded, and select it.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">4: Review & Filter</h4>
                <p class="text-gray-600 text-sm">Decide which accounts and transactions to migrate.</p>
              </div>
              <div>
                <h4 class="text-gray-900 text-sm font-semibold mb-1">5: Process</h4>
                <p class="text-gray-600 text-sm">Decide how to migrate your data.</p>
              </div>
            </div>
          </div>
        </ui-modal>
      </div>
    </ui-card>

  </div>
</section>