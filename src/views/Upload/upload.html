<div id="pageLayout"></div>

<!-- Existing Data Alert -->
<div id="existingDataAlert" class="hidden">
  <div class="p-4 sm:p-6 bg-green-50 border border-green-200 rounded-lg mb-8">
    <div class="flex items-start gap-4">
      <div class="flex-shrink-0">
        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
      <div class="flex-1">
        <h3 class="text-lg font-semibold text-green-900 mb-1">You have existing data</h3>
        <p class="text-sm text-green-700 mb-4">
          We found your previously uploaded YNAB accounts, continue where you left off.
        </p>
        <button id="continueWithExistingBtn" class="ui-button" data-type="primary" data-size="medium">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
          Continue with Existing Data
        </button>
      </div>
    </div>
  </div>

  <!-- Divider -->
  <div class="relative mb-8">
    <div class="absolute inset-0 flex items-center">
      <div class="w-full border-t border-gray-200"></div>
    </div>
    <div class="relative flex justify-center">
      <div class="px-4 bg-white">
        <span class="w-5 h-5 text-gray-400">OR</span>
      </div>
    </div>
  </div>

</div>

<!-- Upload Options -->
<section class="mb-12">
  <div class="grid md:grid-cols-2 gap-6 md:gap-8 max-w-4xl mx-auto">
    <div class="rounded-3xl border border-gray-200 bg-white p-6 shadow-lg space-y-4 flex flex-col text-left">
      <div class="flex items-start gap-4">
        <span class="bg-blue-50 text-blue-600 rounded-2xl p-3">
          <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M10 17l-4-4 4-4" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M14 7h6" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M14 17h6" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </span>
        <div>
          <p class="text-sm uppercase tracking-[0.4em] text-gray-400">Automatic</p>
          <h3 class="text-xl font-semibold text-slate-900">Connect to YNAB</h3>
        </div>
      </div>
      <div class="space-y-1 pt-4">
        <button id="connectButton" class="ui-button w-full" data-type="primary" data-size="large">
          Connect YNAB Account
        </button>
        <a id="oauthInfoModalButton" data-type="text" class="ui-button">
          How does this work?
        </a>
      </div>
    </div>

    <div class="rounded-3xl border border-gray-200 bg-white p-6 shadow-lg space-y-4 flex flex-col text-left">
      <div class="flex items-start gap-4">
        <span class="bg-purple-50 text-purple-600 rounded-2xl p-3">
          <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6">
            <path d="M4 15v3a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-3" stroke-linecap="round" stroke-linejoin="round">
            </path>
            <path d="M12 3v12" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M9 10l3-3 3 3" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </span>
        <div>
          <p class="text-sm uppercase tracking-[0.4em] text-gray-400">Manual</p>
          <h3 class="text-xl font-semibold text-slate-900">Upload a File</h3>
        </div>
      </div>
      <div class="space-y-1 pt-4">
        <button id="manualUploadButton" class="ui-button w-full" data-type="secondary" data-size="large">
          Choose File to Upload
        </button>
        <input id="manualFileInput" type="file"
          accept=".zip,.bin,application/zip,application/x-zip-compressed,application/octet-stream,application/binary"
          class="hidden" />
        <a id="manualImportInfoModalButton" data-type="text" class="ui-button">
          What's the process?
        </a>
      </div>
    </div>
  </div>
</section>

<!-- OAuth Info Modal -->
<div id="oauthInfoModal"
  class="fixed inset-0 z-50 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-300 p-3 sm:p-4 md:p-6">

  <!-- Overlay -->
  <div class="absolute inset-0 bg-black/30 transition-opacity duration-300"></div>

  <!-- Modal Content -->
  <div
    class="relative z-10 bg-white rounded-xl p-4 sm:p-6 md:p-8 max-w-sm sm:max-w-md md:max-w-lg w-full shadow-2xl transform translate-y-full transition-transform duration-500 max-h-[90vh] overflow-y-auto">

    <!-- Close Btn -->
    <button id="closeOauthInfoModal"
      class="absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
      aria-label="Close modal">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

    <!-- Title -->
    <h3 class="text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 pr-8 text-gray-900">
      How does connecting my YNAB account work?
    </h3>

    <!-- Body -->
    <div class="space-y-4 text-sm text-gray-600">
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">1: Securely Connect</h4>
        <p class="text-gray-600 text-sm">Using YNAB's official authentication process, securely connect your account.
        </p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">2: Grant Permissions</h4>
        <p class="text-gray-600 text-sm">We'll prompt you to authorize access to your YNAB data and thoroughly explain
          every permission and how it is used.</p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">3: Review & Filter</h4>
        <p class="text-gray-600 text-sm">Decide which accounts and transactions to migrate.</p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">4: Process</h4>
        <p class="text-gray-600 text-sm">Decide how to migrate your data.</p>
      </div>
    </div>
  </div>
</div>

<!-- Manual Import Info Modal -->
<div id="manualImportInfoModal"
  class="fixed inset-0 z-50 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-300 p-3 sm:p-4 md:p-6">

  <!-- Overlay -->
  <div class="absolute inset-0 bg-black/30 transition-opacity duration-300"></div>

  <!-- Modal Content -->
  <div
    class="relative z-10 bg-white rounded-xl p-4 sm:p-6 md:p-8 max-w-sm sm:max-w-md md:max-w-lg w-full shadow-2xl transform translate-y-full transition-transform duration-500 max-h-[90vh] overflow-y-auto">

    <!-- Close Btn -->
    <button id="closeManualImportInfoModal"
      class="absolute top-3 right-3 sm:top-4 sm:right-4 text-gray-400 hover:text-gray-600 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500"
      aria-label="Close modal">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

    <!-- Title -->
    <h3 class="text-lg sm:text-xl md:text-2xl font-bold mb-4 sm:mb-6 pr-8 text-gray-900">
      Where do I find my YNAB data file?
    </h3>

    <!-- Body -->
    <div class="space-y-4 text-sm text-gray-600">
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">1: Visit YNAB.com</h4>
        <p class="text-gray-600 text-sm">Visit <a href="https://www.ynab.com" target="_blank"
            rel="noopener noreferrer">YNAB.com</a> and log into your account.</p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">2: Export your YNAB Data</h4>
        <p class="text-gray-600 text-sm">Click on your name in the top-left corner to reveal the menu, then click
          "Export Plan". This will download a ZIP file containing all your data.</p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">3: Upload the File</h4>
        <p class="text-gray-600 text-sm">On this page, click the "Choose File to Upload" button, navigate to where the
          ZIP file was downloaded, and select it.</p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">4: Review & Filter</h4>
        <p class="text-gray-600 text-sm">Decide which accounts and transactions to migrate.</p>
      </div>
      <div>
        <h4 class="text-gray-900 text-sm font-semibold mb-1">5: Process</h4>
        <p class="text-gray-600 text-sm">Decide how to migrate your data.</p>
      </div>
    </div>
  </div>
</div>